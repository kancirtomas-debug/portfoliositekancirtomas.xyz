<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Výstavba múrikov a plotov - ZAVO</title>
    <style>
        /* --- 1. PÔVODNÉ ZAVO FONTY A RESET --- */
        @font-face { 
          font-family:'poppinsregular';
          font-display:swap;
          src:url('https://zavosro.sk/templates/site/fonts/poppins-regular-webfont.eot');
          src:url('https://zavosro.sk/templates/site/fonts/poppins-regular-webfont.eot#iefix') format('embedded-opentype'),url('https://zavosro.sk/templates/site/fonts/poppins-regular-webfont.woff2') format('woff2'),url('https://zavosro.sk/templates/site/fonts/poppins-regular-webfont.woff') format('woff'),url('https://zavosro.sk/templates/site/fonts/poppins-regular-webfont.ttf') format('truetype'),url('https://zavosro.sk/templates/site/fonts/poppins-regular-webfont.svg#poppinsregular') format('svg');
          font-weight:normal;
          font-style:normal;
        } 
        @font-face { 
          font-family:'poppins-bold';
          font-display:swap;
          src:url('https://zavosro.sk/templates/site/fonts/poppins-bold-webfont.eot');
          src:url('https://zavosro.sk/templates/site/fonts/poppins-bold-webfont.eot#iefix') format('embedded-opentype'),url('https://zavosro.sk/templates/site/fonts/poppins-bold-webfont.woff2') format('woff2'),url('https://zavosro.sk/templates/site/fonts/poppins-bold-webfont.woff') format('woff'),url('https://zavosro.sk/templates/site/fonts/poppins-bold-webfont.ttf') format('truetype'),url('https://zavosro.sk/templates/site/fonts/poppins-bold-webfont.svg#poppins-bold') format('svg');
          font-weight:normal;
          font-style:normal;
        } 
        
        body {  
            font-weight:inherit;
            font-family: poppinsregular, Arial, Helvetica, sans-serif;
            font-size:14px;
            line-height:1.6;
            color:rgba(0,0,0,1);
            background-color:#fff;
            margin: 0;
        }  
        
        * { box-sizing: border-box; outline: 0; } 

        .container {
            margin-right: auto;
            margin-left: auto;
            padding-left: 15px;
            padding-right: 15px;
            max-width: 1200px;
        }

        h1, h2, h3 { 
            font-family: 'poppins-bold', Arial, Helvetica, sans-serif; 
            color: rgba(0,0,0,1); 
            line-height: 1.2;
        } 

        h1 { font-size: 36px; margin-bottom: 20px; }
        
        /* Farby ZAVO */
        :root {
            --zavo-orange: rgba(244,170,35,1);
            --zavo-dark: #222;
        }

        /* --- 2. HLAVIČKA --- */
        .header-section {
            padding: 50px 0;
            background-color: #f4f4f4;
            border-bottom: 4px solid var(--zavo-orange);
            text-align: center;
        }

        /* --- 3. LAYOUT KALKULAČKY --- */
        .calculator-section {
            background-color: #fafafa;
            padding: 60px 0 80px;
            border-top: 1px solid #eee;
        }

        .calc-layout {
            display: flex;
            gap: 30px; 
            align-items: stretch; /* Rovnaká výška stĺpcov */
        }

        /* Ľavá strana - Formulár */
        .calc-form-side {
            flex: 1;
            background: #fff;
            padding: 40px;
            border: 1px solid #ddd;
            box-shadow: 0 10px 30px rgba(0,0,0,0.03);
            border-top: 4px solid var(--zavo-dark);
        }

        /* Pravá strana - Cena */
        .calc-result-side {
            width: 350px;
            display: flex;
            flex-direction: column;
        }

        /* Box s výsledkom */
        .result-box {
            background-color: var(--zavo-dark);
            color: #fff;
            padding: 40px 30px;
            text-align: center;
            border-bottom: 5px solid var(--zavo-orange);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
            /* Rozloženie obsahu */
            height: 100%; 
            display: flex;
            flex-direction: column;
            justify-content: space-between; /* Rozdelí vrch a spodok */
        }

        .result-title {
            text-transform: uppercase;
            font-size: 13px;
            letter-spacing: 1px;
            color: #aaa;
            display: block;
            margin-bottom: 15px;
        }

        .result-price {
            font-size: 42px;
            font-family: 'poppins-bold', sans-serif;
            color: var(--zavo-orange);
            margin: 0 0 15px; /* Menšia medzera pod cenou */
            line-height: 1;
        }

        .result-note {
            font-size: 13px; 
            color: #ccc; 
            margin: 0; 
            line-height: 1.5;
            padding-bottom: 20px; /* Oddelenie od spodnej časti */
        }

        /* Spodná časť boxu - Detaily */
        .result-bottom-content {
            border-top: 1px solid #444;
            padding-top: 20px;
            margin-top: auto; /* Tlačí to na spodok */
        }

        .result-details {
            text-align: left;
            font-size: 14px;
            color: #fff;
        }

        /* Prvky formulára */
        .form-group { margin-bottom: 25px; }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #222;
            font-family: 'poppins-bold', sans-serif;
        }

        .form-control {
            display: block;
            width: 100%;
            padding: 15px;
            font-size: 15px;
            color: #555;
            background-color: #fdfdfd;
            border: 1px solid #ccc;
            border-radius: 0; 
            transition: border-color 0.3s;
        }
        .form-control:focus {
            border-color: var(--zavo-orange);
        }

        /* Responsivita */
        @media (max-width: 900px) {
            .calc-layout {
                flex-direction: column-reverse; 
                gap: 20px;
            }
            .calc-result-side {
                width: 100%;
                height: auto;
            }
            .result-box {
                padding: 30px;
                min-height: 250px;
            }
        }

    </style>
</head>
<body>

    <header class="header-section">
        <div class="container">
            <h1>Výstavba múrikov a plotov</h1>
            <p style="font-size: 18px; max-width: 800px; margin: 0 auto;">Bezpečnosť a estetika sú našou prioritou pri každom type plotu.</p>
        </div>
    </header>

    <section class="calculator-section">
        <div class="container">
            
            <div class="calc-layout">
                
                <div class="calc-form-side">
                    <h3 style="margin-bottom: 30px; border-left: 5px solid var(--zavo-orange); padding-left: 15px;">
                        Nezáväzná kalkulácia
                    </h3>
                    
                    <form id="fenceForm" onsubmit="event.preventDefault();">
                        <div class="form-group">
                            <label for="length">Dĺžka plotu (metre)</label>
                            <input type="number" id="length" class="form-control" placeholder="Zadajte dĺžku (napr. 25)" min="1">
                        </div>

                        <div class="form-group">
                            <label for="height">Výška plotu (metre)</label>
                            <input type="number" id="height" class="form-control" placeholder="Zadajte výšku (napr. 1.8)" min="0.5" step="0.1">
                        </div>

                        <div class="form-group">
                            <label for="material">Typ plotu</label>
                            <select id="material" class="form-control">
                                <option value="wood">Klasický drevený plot (45 €/m²)</option>
                                <option value="concrete">Betónový plot (65 €/m²)</option>
                                <option value="steel">Oceľový plot (110 €/m²)</option>
                                <option value="gabion">Gabiónový múrik (130 €/m²)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="foundation">Základy</label>
                            <select id="foundation" class="form-control">
                                <option value="yes">Potrebujem betónový základ (+35 €/bm)</option>
                                <option value="no">Základy už mám hotové</option>
                            </select>
                        </div>
                    </form>
                </div>

                <div class="calc-result-side">
                    <div class="result-box">
                        
                        <div>
                            <span class="result-title">Orientačná cena realizácie</span>
                            <div class="result-price" id="totalPrice">0,00 €</div>
                            <p class="result-note">
                                Cena zahŕňa prácu a materiál. Ide o hrubý odhad. Pre presnú ponuku je nutná obhliadka.
                            </p>
                        </div>

                        <div class="result-bottom-content">
                            <div id="priceDetails" class="result-details">
                                Zadajte dĺžku a výšku plotu.
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </section>

    <script>
        // 1. Získanie elementov
        const inputs = document.querySelectorAll('input, select');
        const totalPriceElement = document.getElementById('totalPrice');
        const priceDetailsElement = document.getElementById('priceDetails');

        // 2. Funkcia výpočtu
        function calculateFence() {
            const length = parseFloat(document.getElementById('length').value);
            const height = parseFloat(document.getElementById('height').value);
            const materialType = document.getElementById('material').value;
            const foundation = document.getElementById('foundation').value;

            // Ak nie sú čísla platné
            if (isNaN(length) || isNaN(height) || length <= 0 || height <= 0) {
                totalPriceElement.innerText = "0,00 €";
                priceDetailsElement.innerHTML = "Zadajte dĺžku a výšku plotu.";
                return;
            }

            // Ceny
            let pricePerM2 = 0;
            let materialName = "";
            switch (materialType) {
                case 'wood': pricePerM2 = 45; materialName = "Drevený plot"; break;
                case 'concrete': pricePerM2 = 65; materialName = "Betónový plot"; break;
                case 'steel': pricePerM2 = 110; materialName = "Oceľový plot"; break;
                case 'gabion': pricePerM2 = 130; materialName = "Gabión"; break;
            }

            // Výpočet
            const area = length * height;
            const materialCost = area * pricePerM2;

            let foundationCost = 0;
            if (foundation === 'yes') {
                foundationCost = length * 35; // Cena základu za bežný meter
            }

            const total = materialCost + foundationCost;

            // Aktualizácia ceny
            totalPriceElement.innerText = total.toLocaleString('sk-SK', { style: 'currency', currency: 'EUR' });

            // Aktualizácia detailov
            let detailsHTML = `<strong>${materialName}:</strong> ${materialCost.toFixed(2)} €<br>`;
            if (foundationCost > 0) {
                detailsHTML += `<strong>Betónový základ:</strong> ${foundationCost.toFixed(2)} €`;
            } else {
                detailsHTML += `Bez základov`;
            }
            priceDetailsElement.innerHTML = detailsHTML;
        }

        // 3. Reaktivita
        inputs.forEach(input => {
            input.addEventListener('input', calculateFence);
            input.addEventListener('change', calculateFence);
        });

        // Spustenie na začiatku
        calculateFence();
    </script>
</body>
</html>
